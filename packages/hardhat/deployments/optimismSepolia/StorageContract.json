{
  "address": "0x7F38b9471987d3d1408481804694eC001A5bbae4",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_usdcToken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newAdmin",
          "type": "address"
        }
      ],
      "name": "AdminChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "QuotaPurchased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "QuotaUsed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "pricePerQuotaChanged",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newAdmin",
          "type": "address"
        }
      ],
      "name": "changeAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getQuota",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pricePerQuota",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "purchasedQuota",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "quotas",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_price",
          "type": "uint256"
        }
      ],
      "name": "setPricePerQuota",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "usdcToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "useQuota",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x8f1f238fb229ad45c8e9980a811b3b8bd165e62841cab492302494b1a4f8774e",
  "receipt": {
    "to": null,
    "from": "0xF5af078e3409EB7Ea635E1a17619eA7a836A599B",
    "contractAddress": "0x7F38b9471987d3d1408481804694eC001A5bbae4",
    "transactionIndex": 2,
    "gasUsed": "421845",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x6ecea984cfd65ececa49624c6946274a433f2332ba5b7ef26738ba888b84fe98",
    "transactionHash": "0x8f1f238fb229ad45c8e9980a811b3b8bd165e62841cab492302494b1a4f8774e",
    "logs": [],
    "blockNumber": 12734469,
    "cumulativeGasUsed": "609682",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x629c2fd5d5F432357465B59D7832389A89956f0B"
  ],
  "numDeployments": 2,
  "solcInputHash": "04227115727b17edcf93e9361ffccb4b",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_usdcToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"AdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"QuotaPurchased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"QuotaUsed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"pricePerQuotaChanged\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"changeAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getQuota\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pricePerQuota\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"purchasedQuota\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"quotas\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_price\",\"type\":\"uint256\"}],\"name\":\"setPricePerQuota\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"usdcToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"useQuota\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/StorageContract.sol\":\"StorageContract\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\"},\"contracts/StorageContract.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0 <0.9.0;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\ncontract StorageContract {\\n\\tIERC20 public usdcToken;\\n\\taddress public admin;\\n\\tuint256 public pricePerQuota;\\n\\n\\tmapping(address => uint256) public quotas;\\n\\n\\tevent QuotaPurchased(address indexed user, uint256 amount);\\n\\tevent QuotaUsed(address indexed user, uint256 amount);\\n\\tevent AdminChanged(address indexed newAdmin);\\n\\tevent pricePerQuotaChanged(uint256 newPrice);\\n\\n\\tmodifier onlyAdmin() {\\n\\t\\trequire(msg.sender == admin, \\\"Not admin\\\");\\n\\t\\t_;\\n\\t}\\n\\n\\tconstructor(address _usdcToken) {\\n\\t\\tusdcToken = IERC20(_usdcToken);\\n\\t\\tadmin = msg.sender;\\n\\t}\\n\\n\\tfunction setPricePerQuota(uint256 _price) external onlyAdmin {\\n\\t\\tpricePerQuota = _price;\\n\\t\\temit pricePerQuotaChanged(_price);\\n\\t}\\n\\n\\tfunction purchasedQuota(uint256 amount) external {\\n\\t\\tuint256 cost = amount * pricePerQuota;\\n\\t\\trequire(\\n\\t\\t\\tusdcToken.transferFrom(msg.sender, address(this), cost),\\n\\t\\t\\t\\\"Payment failed\\\"\\n\\t\\t);\\n\\n\\t\\tquotas[msg.sender] += amount;\\n\\t\\temit QuotaPurchased(msg.sender, amount);\\n\\t}\\n\\n\\tfunction useQuota(address user, uint256 amount) external onlyAdmin {\\n\\t\\trequire(quotas[user] >= amount, \\\"Insufficient quota\\\");\\n\\t\\tquotas[user] -= amount;\\n\\t\\temit QuotaUsed(user, amount);\\n\\t}\\n\\n\\tfunction changeAdmin(address newAdmin) external onlyAdmin {\\n\\t\\tadmin = newAdmin;\\n\\t\\temit AdminChanged(newAdmin);\\n\\t}\\n\\n\\tfunction getQuota(address user) external view returns (uint256) {\\n\\t\\treturn quotas[user];\\n\\t}\\n}\\n\",\"keccak256\":\"0x9d8003e31b86f0380186987d2e39a9704ae7310852ecbf90928d3952d9ef8561\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5060405161066e38038061066e83398101604081905261002f9161005d565b600080546001600160a01b039092166001600160a01b0319928316179055600180549091163317905561008d565b60006020828403121561006f57600080fd5b81516001600160a01b038116811461008657600080fd5b9392505050565b6105d28061009c6000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c80637501217211610066578063750121721461011d5780638f28397014610130578063c33342e914610143578063f851a44014610163578063fd72fa081461017657600080fd5b806304ce078a146100985780630fccbbf1146100ad57806311eac855146100c957806343a2a302146100f4575b600080fd5b6100ab6100a636600461047d565b610189565b005b6100b660025481565b6040519081526020015b60405180910390f35b6000546100dc906001600160a01b031681565b6040516001600160a01b0390911681526020016100c0565b6100b66101023660046104b2565b6001600160a01b031660009081526003602052604090205490565b6100ab61012b3660046104d4565b6102b5565b6100ab61013e3660046104b2565b6103a4565b6100b66101513660046104b2565b60036020526000908152604090205481565b6001546100dc906001600160a01b031681565b6100ab61018436600461047d565b610418565b6000600254826101999190610514565b6000546040516323b872dd60e01b8152336004820152306024820152604481018390529192506001600160a01b0316906323b872dd906064016020604051808303816000875af11580156101f1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102159190610531565b6102575760405162461bcd60e51b815260206004820152600e60248201526d14185e5b595b9d0819985a5b195960921b60448201526064015b60405180910390fd5b3360009081526003602052604081208054849290610276908490610553565b909155505060405182815233907f459d0b85bc62ccfd34d3f5e2787efde5bdfa38862497479098c2526a97f72fd1906020015b60405180910390a25050565b6001546001600160a01b031633146102df5760405162461bcd60e51b815260040161024e90610566565b6001600160a01b03821660009081526003602052604090205481111561033c5760405162461bcd60e51b8152602060048201526012602482015271496e73756666696369656e742071756f746160701b604482015260640161024e565b6001600160a01b03821660009081526003602052604081208054839290610364908490610589565b90915550506040518181526001600160a01b038316907fa4c312ab2850e31593ed2e6492d2f35592ffcd845401078cc7a91ca8a82576ef906020016102a9565b6001546001600160a01b031633146103ce5760405162461bcd60e51b815260040161024e90610566565b600180546001600160a01b0319166001600160a01b0383169081179091556040517f7ce7ec0b50378fb6c0186ffb5f48325f6593fcb4ca4386f21861af3129188f5c90600090a250565b6001546001600160a01b031633146104425760405162461bcd60e51b815260040161024e90610566565b60028190556040518181527fc0cbd58778448e2decd5a8bf641e7610c6681c7a85656ce8717aec6ac4d4e9009060200160405180910390a150565b60006020828403121561048f57600080fd5b5035919050565b80356001600160a01b03811681146104ad57600080fd5b919050565b6000602082840312156104c457600080fd5b6104cd82610496565b9392505050565b600080604083850312156104e757600080fd5b6104f083610496565b946020939093013593505050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761052b5761052b6104fe565b92915050565b60006020828403121561054357600080fd5b815180151581146104cd57600080fd5b8082018082111561052b5761052b6104fe565b6020808252600990820152682737ba1030b236b4b760b91b604082015260600190565b8181038181111561052b5761052b6104fe56fea264697066735822122031a03c0a572963fe464c7f688f5188916ea3eadab129b5b8ff8d0ca917448dc364736f6c63430008110033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c80637501217211610066578063750121721461011d5780638f28397014610130578063c33342e914610143578063f851a44014610163578063fd72fa081461017657600080fd5b806304ce078a146100985780630fccbbf1146100ad57806311eac855146100c957806343a2a302146100f4575b600080fd5b6100ab6100a636600461047d565b610189565b005b6100b660025481565b6040519081526020015b60405180910390f35b6000546100dc906001600160a01b031681565b6040516001600160a01b0390911681526020016100c0565b6100b66101023660046104b2565b6001600160a01b031660009081526003602052604090205490565b6100ab61012b3660046104d4565b6102b5565b6100ab61013e3660046104b2565b6103a4565b6100b66101513660046104b2565b60036020526000908152604090205481565b6001546100dc906001600160a01b031681565b6100ab61018436600461047d565b610418565b6000600254826101999190610514565b6000546040516323b872dd60e01b8152336004820152306024820152604481018390529192506001600160a01b0316906323b872dd906064016020604051808303816000875af11580156101f1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102159190610531565b6102575760405162461bcd60e51b815260206004820152600e60248201526d14185e5b595b9d0819985a5b195960921b60448201526064015b60405180910390fd5b3360009081526003602052604081208054849290610276908490610553565b909155505060405182815233907f459d0b85bc62ccfd34d3f5e2787efde5bdfa38862497479098c2526a97f72fd1906020015b60405180910390a25050565b6001546001600160a01b031633146102df5760405162461bcd60e51b815260040161024e90610566565b6001600160a01b03821660009081526003602052604090205481111561033c5760405162461bcd60e51b8152602060048201526012602482015271496e73756666696369656e742071756f746160701b604482015260640161024e565b6001600160a01b03821660009081526003602052604081208054839290610364908490610589565b90915550506040518181526001600160a01b038316907fa4c312ab2850e31593ed2e6492d2f35592ffcd845401078cc7a91ca8a82576ef906020016102a9565b6001546001600160a01b031633146103ce5760405162461bcd60e51b815260040161024e90610566565b600180546001600160a01b0319166001600160a01b0383169081179091556040517f7ce7ec0b50378fb6c0186ffb5f48325f6593fcb4ca4386f21861af3129188f5c90600090a250565b6001546001600160a01b031633146104425760405162461bcd60e51b815260040161024e90610566565b60028190556040518181527fc0cbd58778448e2decd5a8bf641e7610c6681c7a85656ce8717aec6ac4d4e9009060200160405180910390a150565b60006020828403121561048f57600080fd5b5035919050565b80356001600160a01b03811681146104ad57600080fd5b919050565b6000602082840312156104c457600080fd5b6104cd82610496565b9392505050565b600080604083850312156104e757600080fd5b6104f083610496565b946020939093013593505050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761052b5761052b6104fe565b92915050565b60006020828403121561054357600080fd5b815180151581146104cd57600080fd5b8082018082111561052b5761052b6104fe565b6020808252600990820152682737ba1030b236b4b760b91b604082015260600190565b8181038181111561052b5761052b6104fe56fea264697066735822122031a03c0a572963fe464c7f688f5188916ea3eadab129b5b8ff8d0ca917448dc364736f6c63430008110033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 753,
        "contract": "contracts/StorageContract.sol:StorageContract",
        "label": "usdcToken",
        "offset": 0,
        "slot": "0",
        "type": "t_contract(IERC20)664"
      },
      {
        "astId": 755,
        "contract": "contracts/StorageContract.sol:StorageContract",
        "label": "admin",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      },
      {
        "astId": 757,
        "contract": "contracts/StorageContract.sol:StorageContract",
        "label": "pricePerQuota",
        "offset": 0,
        "slot": "2",
        "type": "t_uint256"
      },
      {
        "astId": 761,
        "contract": "contracts/StorageContract.sol:StorageContract",
        "label": "quotas",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_uint256)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_contract(IERC20)664": {
        "encoding": "inplace",
        "label": "contract IERC20",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}